<!DOCTYPE html>
<html ng-app="codeStats" >
  <head>
    <h1> Code Analysis </h1>
  </head>
  <body class="container">
    <div ng-controller="GroupController as grpCtrl">
    <div ng-controller="StatController">

      <div ng-controller="ChartController" ng-show="items.length" >
        <highchart id="chart1" config="chartConfig"></highchart>
      </div>

          <section class="tab" ng-controller="TabController as tab" >
            <ul class="nav nav-pills">
              <!-- Iterate through groups instead? new item-->
                <div ng-repeat="g in groups">
                  <li ng-class="{ active: tab.isSet(g) }">
                    <a href ng-click="tab.setTab(g)">{{g}}</a>
                  </li>
                </div>
              
            </ul>
            <div ng-repeat="item in items">
              <div ng-show="tab.isSet(item.group)">
                <h4>{{item.name}}</h4>
                <p>Statements: {{item.statements}}</p>
                <pre><code>{{item.code}}</code></pre>
              </div>
            </div>
          </section>

         <!-- 
         <h3>{{item.name}}</h3>

            <p>
              <ul ng-repeat="(attribute, value) in item.body">
                {{attribute}}: {{value}}
              </ul>
            </p> 
        -->
       
      
    </div>

    <div class="center-block">
      <form name="reviewForm" ng-controller="TextController as txtCtrl" ng-submit="txtCtrl.addSnippet(grpCtrl.remakeGroups)">
          <!--  Live Preview
          <blockquote ng-show="txtCtrl.snippet.body.length">
            <strong>{{txtCtrl.snippet.name}}</strong>
            <pre><code>{{txtCtrl.snippet.body}}</code></pre>
          </blockquote>-->
          <h4>Submit a Code Snippet</h4>
          <fieldset class="form-group">
            <input ng-model="txtCtrl.snippet.name" class="form-control" placeholder="Code Title" title="Name" required/>
          </fieldset>
          <fieldset class="form-group">
            <textarea ng-model="txtCtrl.snippet.body" class="form-control" placeholder="Enter code snippet here..." title="Code" required></textarea>
          </fieldset>
          <fieldset class="form-group">
            <input ng-disabled="reviewForm.$invalid" type="submit" class="btn btn-primary pull-right" value="Analyze Code Snippet" />
          </fieldset>
      </form>
    </div>
  </div>

    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="vendors/angular.js"></script>
    <script src="vendors/highcharts.js"></script>
    <script src="scripts/directives/highcharts-ng.js"></script>
    
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">

    <script src="scripts/app.js"></script>
    <script src="scripts/services/data.js"></script>
    <script src="scripts/controllers/statCtrl.js"></script>
    
  </body>
</html>